<!doctype html>
<html lang="nl">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <link rel="shortcut icon" href="#">

    <title>Opdracht - JSON XMLHttpRequest - OMDB API</title>
</head>

<body>
    <div class="container">
        <div class="row" id="foto">
            
            </div>
        </div>

        

</body>

<script>
    
   const imageDiv = document.querySelector('#foto')
    let output = '';
   
    loadImages = () => {
       
   
   let xhr = new XMLHttpRequest();
        
   xhr.open('GET',
            'https://api.unsplash.com/search/photos?query=coffee&per_page=30&orientation=landscape&color=black&client_id=ppUgTuJNufSOKwbOyw1U1h-or--NIeUsD_mfxrBewiQ',
            true);

        
        xhr.send();

        
        xhr.onload = function() {
            
            if (xhr.status != 200) {
                
                console.log(`Error ${xhr.status}: ${xhr.statusText}`)
            } else { 
                let images = JSON.parse(xhr.responseText)
                console.log(images);

                for(let i=0; i<images.results.length; i++){
                    output += `
                    <div class="col-md-3">
                        <img src="${images.results[i].urls.thumb}" class="img-fluid p-2">
                            </div>`
                }
                imageDiv.innerHTML = output
                
                
            }
        };

        xhr.onerror = function() {
           
            divRes.innerHTML = "Request failed";
        };
    }

   window.addEventListener('load', loadImages)
</script>

</html>